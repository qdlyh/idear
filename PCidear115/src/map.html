<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=980, user-scalable=no, target-densitydpi=device-dpi">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no" />
    <link rel="stylesheet" href="css/communal.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/map.css">
    <title>体验馆</title>
</head>

<body>
    <div class="container">
        <div class="header">
            <div class="header-box">
                <span class="header-img-left"><img src="images/logo.png" alt=""></span>
                <span class="header-img-right"><img src="images/151561561.png" alt=""></span>
            </div>
        </div>
        <div class="top-img">
            <img src="images/545451.png" alt="">
        </div>
        <div class="map-content">
            <div class="map-text">
                <p>体验馆</p>
                <h4>体验馆</h4>
            </div>
            <div class="map-box">
                <div id="mapbox" style="height:600px"></div>
            </div>
        </div>
        <div class="seek-idear">
            <p>查找地尔水疗马桶体验馆</p>
            <hr/>
            <div class="article-start-box">
                <span class="categery">分类栏目</span>
            </div>
            <div class="seek-city">
                <p>店铺地址查询</p>
                <span id="optionValue" class="open-ul">-选择省份-</span>

                 <div>
                 	<ul class="province" style="display: none;">
                 		   <li>河北</li><li>山西</li><li>内蒙古</li><li>辽宁</li><li>吉林</li><li>黑龙江</li><li>上海</li><li>江苏</li><li>浙江</li><li>安徽</li><li>福建</li><li>江西</li><li>山东</li><li>河南</li><li>湖北</li><li>湖南</li><li>广东</li><li>广西</li><li>海南</li><li>重庆</li><li>四川</li><li>贵州</li><li>云南</li><li>西藏</li><li>陕西</li><li>甘肃</li><li>青海</li><li>宁夏</li><li>新疆</li><li>台湾</li><li>澳门</li><li>香港</li>
                 	</ul>
                 </div>

            </div>
            <div class="seek-keywords">
                <p>关键字查询</p>
                <input type="text" placeholder="输入经销商地址或店铺名称等关键字">
                <i class="seek-btn"></i>
                <div class="keywords-box">
                    <div class="keywords-text">
                        <p>地尔水疗马桶授权门店查询结果</p>
                    </div>
                    <div class="keywords-content">
                        <div class="keywords-content-box">
                            <p>太原市体验店</p>
                            <p>地址：山西省xxxxxxxxx</p>
                            <p>电话：张三&nbsp;130303030</p>
                            <p>业务员：李四&nbsp;130303030</p>
                            <a href="JavaScript:;" class="keywords-map"><img src="images/123123123.png" alt="">&nbsp;查看地图</a>
                            <hr/>
                        </div>
                        <div class="keywords-content-box">
                            <p>太原市体验店</p>
                            <p>地址：山西省xxxxxxxxx</p>
                            <p>电话：张三&nbsp;130303030</p>
                            <p>业务员：李四&nbsp;130303030</p>
                            <a href="JavaScript:;" class="keywords-map"><img src="images/123123123.png" alt="">&nbsp;查看地图</a>
                            <hr/>
                        </div>
                        <div class="keywords-content-box">
                            <p>太原市体验店</p>
                            <p>地址：山西省xxxxxxxxx</p>
                            <p>电话：张三&nbsp;130303030</p>
                            <p>业务员：李四&nbsp;130303030</p>
                            <a href="JavaScript:;" class="keywords-map"><img src="images/123123123.png" alt="">&nbsp;查看地图</a>
                            <hr/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="js/jquery.js"></script>
<script src="js/echarts.js"></script>
<script>
//console.log(document.getElementsByClassName('optionValues').innerHTML)
// console.log(document.getElementById('optionValues').innerHTML)
    //路径配置
    require.config({
        paths: {
            echarts: 'http://echarts.baidu.com/build/dist'
        }
    });
    // 使用
    require(['echarts', 'echarts/chart/map'], function (ch) {
        // 基于准备好的dom，初始化echarts图表
        var myChart = ch.init(document.getElementById('mapbox'));
        option = {
            tooltip: {
                trigger: 'item',
                formatter: '{b}'
            },

            series: [{
                name: '中国',
                type: 'map',
                mapType: 'china',
                selectedMode: 'single',
                itemStyle: {
                    normal: {
                        label: {
                            show: true
                        }, //是否显示字
                        //borderColor: '#009fb1', //省界限色
                        areaStyle: {
                            color: '#CCDFE4'
                        }, //背景色
                    },

                    emphasis: {
                        label: {
                            show: true,
                            textStyle: {
                                color: '#fff'
                            } //鼠标覆盖文字颜色
                        },
                        areaStyle: {
                            color: '#009FB1'
                        }, //鼠标覆盖色
                    }
                },

                data: [{
                    name: '广东',
                    selected: false
                } //初始选择
                ]
            }]
        };
        var ecConfig = require('echarts/config');
        myChart.on(ecConfig.EVENT.MAP_SELECTED, function (param) {
            var selected = param.selected;
            //var str = '当前选择： ';
            var str ='';
            for (var p in selected) {
                if (selected[p]) {
                    str += p + ' ';
                }
            }
             //var text = $('.options').siblings().addClass('optionValue');
             //console.log(text)
            // //console.log(text)
            // for(var i =0;i<text.length;i++){
            // 	console.log(text[i].innerText)
            // 	var html = text[i].innerText = str;
            // 	//console.log(html)
            // }   
            // var x=document.getElementById("optionValue");
            // var y=x.getElementsByTagName("option");
            // console.log(y)
            document.getElementById('optionValue').innerHTML = str;
            // y.innerHTML = str
            //document.getElementsByClassName('optionValues').innerHTML = str;
            console.log(str)
            
            
        })
        // 为echarts对象加载数据 
        myChart.setOption(option);
    });

$('.open-ul').click(function(e){
     $('.province').toggle();
        e.stopPropagation();
})

  $(document).click(function(){ 
   $('.province').hide()
  }) 
$('.province > li').click(function(){
	var text = $(this).text()
	$('#optionValue').text(text)
	console.log(text)
	 $('.province').hide()
})
// $(document).click(function(){
//     $('.province').hide()
// });
// $('.province').click(function(){
//      event.stopPropagation();
// });
</script>
<!-- 代码部分end -->

</html>
